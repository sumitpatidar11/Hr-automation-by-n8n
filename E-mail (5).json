{
  "name": "E-mail",
  "nodes": [
    {
      "parameters": {
        "url": "https://reminderapi.foduu.com/api/public/vacancy",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1856,
        240
      ],
      "id": "16ee4a49-5377-4db3-94a0-cc8feecb7a62",
      "name": "HTTP Request",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "6379b9a5-b251-48c0-acbf-488e99ad4a0d",
              "leftValue": "={{ $json.ats_score }}",
              "rightValue": 50,
              "operator": {
                "type": "number",
                "operation": "gte"
              }
            },
            {
              "id": "8f1c72d7-a2ca-4bb1-90d6-1bf3a75e3057",
              "leftValue": "={{ $json.position_available }}",
              "rightValue": "={{ $json.position_available }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "8018467a-ce71-4e63-99ef-9ca668b9f5d7",
              "leftValue": "={{ $json.is_indore }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -608,
        240
      ],
      "id": "bb124568-caa5-4093-8499-0ff47bb4a607",
      "name": "Check ATS Score >= "
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "message": "=<p>Dear {{ $('Gmail Trigger').item.json.from.value[0].name }},</p>\n\n<p>Thank you for your application for the position of <strong>{{ $('Code in JavaScript').item.json.matched_position.name }}</strong> at <b>FODUU</b>. We appreciate the time and effort you put into your application.</p>\n\n<p>After careful consideration, we regret to inform you that <b>you have not been shortlisted for the interview process at this time.</b></p>\n\n<p>We encourage you to keep an eye on our future openings and apply again if you find a role that matches your skills and interests. You can explore all current opportunities on our mobile app : </p>\n\n<ul>\n  <li><b>Android Devices</b>: <a href=\"https://play.google.com/store/apps/details?id=com.foduu.foduu\" target=\"_blank\">FODUUJobs on Google Play</a></li>\n  <li><b>iOS Devices</b>: <a href=\"https://apps.apple.com/in/app/foduu-jobs/id6523422423\" target=\"_blank\">FODUU Jobs on Apple App Store</a></li>\n</ul>\n<p></p>\n<p>We wish you the very best in your career and future endeavors.</p>\n\n<p>Best regards,<br>\nHR Team<br>\n<b>FODUU</b><br>\n+91-8770764189\n</p>\n\n<p><em>Note: This email is auto-generated by FODUU AI system. If you have any questions, feel free to reply to this email or contact us at the provided numbers.</em></p>\n",
        "options": {
          "appendAttribution": false,
          "replyToSenderOnly": true
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        192,
        576
      ],
      "id": "b2f08a79-bfeb-4d57-9fc2-0cb6f14dcdb6",
      "name": "Send Rejection Email",
      "webhookId": "e3a30cf5-8831-454c-9efb-5a30141ec123",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "simple": false,
        "filters": {
          "q": "has:attachment (resume OR cv OR application OR applying) \n",
          "readStatus": "unread"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.3,
      "position": [
        -4224,
        752
      ],
      "id": "0d34082d-d9d5-40d5-bce4-f0ca58d1a4cb",
      "name": "Gmail Trigger",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1568,
        464
      ],
      "id": "328d2c2c-e64d-4b62-9d84-e73aff7700b4",
      "name": "OpenAI Chat Model11",
      "credentials": {
        "openAiApi": {
          "id": "ALWNopQn4U0xLRqe",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "405d80dc-7058-462f-824c-d263a14fe281",
              "leftValue": "={{ $('Code9').item.json.isJobApplication }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "ea2c6182-50bc-4da2-9828-19c2db263799",
              "leftValue": "={{ $('Code9').item.json.isJobApplication }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -2080,
        336
      ],
      "id": "5186e431-ab29-4ad7-bb50-c355099fcd40",
      "name": "If"
    },
    {
      "parameters": {
        "jsCode": "// Get the input string from the previous node\nconst inputString = $json.output;\n\n// Parse it into a real JSON object\nconst parsedData = JSON.parse(inputString);\n\n// Initialize variables\nlet location = '';\nlet summary1 = parsedData.summary1 || '';\nlet linkedin_url = '';\nlet is_indore = false;\n\n// 1️⃣ Extract location from 'location' field if it exists\nif (parsedData.location) {\n  location = parsedData.location.trim();\n} else {\n  // Fallback: Extract location from summary1 using \"based in <place>\"\n  const locationMatch = summary1.match(/based in ([A-Za-z\\s,]+)/i);\n  if (locationMatch) {\n    location = locationMatch[1].trim();\n    summary1 = summary1.replace(locationMatch[0], '').trim();\n  }\n}\n\n// 2️⃣ Extract LinkedIn URL (look for \"linkedin.com/...\") anywhere in the text\nconst linkedinMatch = summary1.match(/linkedin\\.com\\/[^\\s,;]+/i);\nif (linkedinMatch) {\n  linkedin_url = linkedinMatch[0].trim();\n  summary1 = summary1.replace(linkedinMatch[0], '').trim();\n}\n\n// 3️⃣ Check if location contains \"Indore\" (case-insensitive)\nif (location.toLowerCase().includes('indore')) {\n  is_indore = true;\n}\n\n// 4️⃣ Format summary1 for readability\nsummary1 = summary1.replace(/\\. /g, '.\\n\\n');\n\n// Return updated data\nreturn [\n  {\n    json: {\n      extracted_position: parsedData.extracted_position,\n      matched_position: parsedData.matched_position,\n      ats_score: parsedData.ats_score,\n      position_available: parsedData.position_available,\n      summary1: summary1,\n      location: location,\n      linkedin_url: linkedin_url,\n      is_indore: is_indore\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1280,
        240
      ],
      "id": "a72be257-79e6-4390-bbda-124743d1c09f",
      "name": "Code in JavaScript",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1232,
        528
      ],
      "id": "f697ed0e-812d-43ce-802b-cb501413ae9b",
      "name": "Mark a message as read",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        560,
        1008
      ],
      "id": "f65a0943-8973-45e6-ada6-054a0048070d",
      "name": "Mark a message as read33",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b8087206-9afb-4075-9909-bdfce2570910",
              "leftValue": "={{ $json.is_indore }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {
          "ignoreCase": false
        }
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -144,
        384
      ],
      "id": "c9208b88-123e-4316-a186-2e5e77bd9ad2",
      "name": "If21"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "message": "=<p>Dear {{ $('Gmail Trigger').item.json.from.value[0].name }},</p>\n\n<p>Thank you for your application for the position of <strong>{{ $('Code in JavaScript').item.json.matched_position.name }}</strong> at <b>FODUU</b>. We appreciate the time and effort you put into your application.</p>\n\n<p>After careful consideration, we regret to inform you that <b>you have not been shortlisted for the interview process at this time.</b> We are currently prioritizing candidates available for <b>immediate joining</b>, with preference given to <b>Indore</b> residents.</p>\n\n<p>We encourage you to keep an eye on our future openings and apply again if you find a role that matches your skills and interests. You can explore all current opportunities on our mobile app : </p>\n\n<ul>\n  <li><b>Android Devices</b>: <a href=\"https://play.google.com/store/apps/details?id=com.foduu.foduu\" target=\"_blank\">FODUUJobs on Google Play</a></li>\n  <li><b>iOS Devices</b>: <a href=\"https://apps.apple.com/in/app/foduu-jobs/id6523422423\" target=\"_blank\">FODUU Jobs on Apple App Store</a></li>\n</ul>\n<p></p>\n\n<p>We wish you the very best in your career and future endeavors.</p>\n\n<p>Best regards,<br>\nHR Team<br>\n<b>FODUU</b><br>\n+91-8770764189\n</p>\n\n<p><em>Note: This email is auto-generated by FODUU AI system. If you have any questions, feel free to reply to this email or contact us at the provided numbers.</em></p>\n",
        "options": {
          "appendAttribution": false,
          "replyToSenderOnly": true
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        256,
        400
      ],
      "id": "34f0a17a-d5cf-4940-a55b-cc33366ef5fc",
      "name": "Send Rejection Email8",
      "webhookId": "e3a30cf5-8831-454c-9efb-5a30141ec123",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        560,
        816
      ],
      "id": "05d410c1-e7a7-4142-a4c0-d36691b62f1a",
      "name": "Mark a message as read35",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -2976,
        688
      ],
      "id": "4c0a480f-d49b-4f56-85ff-e0ec207158a4",
      "name": "Mark a message as read36",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -3712,
        720
      ],
      "id": "4907addc-10ea-4b59-bf77-6b470bad821d",
      "name": "OpenAI Chat Model12",
      "credentials": {
        "openAiApi": {
          "id": "ALWNopQn4U0xLRqe",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "30623ae6-9d77-49e9-993c-fa9ba465c207",
              "leftValue": "={{ $json.isJobApplication }}",
              "rightValue": "={{ $json.isJobApplication }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -3200,
        592
      ],
      "id": "71b2f6c4-36b9-454e-9dca-3d9fe0a778da",
      "name": "If22"
    },
    {
      "parameters": {
        "jsCode": "// Get the JSON string directly from the input\nconst jsonString = $input.first().json.text\n\nconst parsed = JSON.parse(jsonString);\n// const parsed1=JSON.parse(jsonString1);\n// Extract fields \nconst isJobApplication = parsed.isJobApplication;\nconst employment_type = parsed.employment_type\nconst position = parsed.position\n// const resume_txt= parsed1\n\nconsole.log('isJobApplication:', isJobApplication);\nconsole.log('employment_type :', employment_type);\nconsole.log('name:', position);\n\n\nreturn {\n  isJobApplication,\n  employment_type,\n  name:position\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -3424,
        592
      ],
      "id": "1d6db5a1-cebe-4ea1-98c6-1ebbf4de3b93",
      "name": "Code9"
    },
    {
      "parameters": {
        "operation": "get",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "simple": false,
        "options": {
          "downloadAttachments": true
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -2976,
        496
      ],
      "id": "e2362015-a086-4b9e-96ef-ce72f16b9b30",
      "name": "Get a message",
      "webhookId": "d3bd1826-22b8-44ee-841e-64d572fec9c2",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c6d80494-d697-4c4a-9004-7596ba116486",
              "leftValue": "={{ $json.cc }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4000,
        752
      ],
      "id": "21965c17-c00e-4324-9853-976a56119574",
      "name": "If23"
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -3712,
        896
      ],
      "id": "8e2e4f8e-e044-4e5d-b131-894fdf1fe973",
      "name": "Mark a message as read37",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Gmail Trigger').item.json.text }}",
        "messages": {
          "messageValues": [
            {
              "message": "=#### IMPORTANT: FOLLOW THESE INSTRUCTIONS WITH TOP PRIORITY  \n\nYou are analyzing an incoming Gmail message.  \nInputs:  \n- Subject: {{ $('Gmail Trigger').item.json.subject }}  \n- Email Body: {{ $('Gmail Trigger').item.json.text }}  \n\nTASK:  ##THIS POINTS NEED TO BE NOTICED##\n1. Determine if this email is a job application.  \n   - Look at both the subject and email body.  \n   - If it indicates that the sender is applying for a position (e.g. contains terms like resume, CV, application, job, internship, profile etc.) or any position name in the subject so, set isJobApplication = true.  \n      \n   - Otherwise, set isJobApplication = false.  \n\n2. Identify employment type.  \n   - If the email explicitly mentions internship, set employment_type = \"internship\".  \n   - If it does not mention internship, default to \"permanent\".  \n\n3. Extract position.  \n   - If the subject/body specifies a position (e.g. Flutter Developer, Data Analyst), return that exact position text.  \n   - If no position is specified, set \"position\": \"permanent\".  \n\nOUTPUT FORMAT (must be JSON only, no extra text):  \n\n{\n  \"isJobApplication\": true,\n  \"employment_type\": \"permanent\",\n  \"position\": \"permanent\"\n}\n"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -3776,
        496
      ],
      "id": "e01ae4c2-6b9c-439a-8579-2095519879cd",
      "name": "Check the  mail"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Analyze the following candidate data.\n\nResume text: \n{{ $('Extract Resume Text').item.json.text }}\n\nEmail body:\n{{ $('Gmail Trigger').item.json.text }}\n\nAvailable job positions (from API):\n {{ $json.data.data.map(function(item) {\n   return {name :  item.name , employment_type : item.employment_type}\n }).toJsonString() }}\n\n#### Extract important information, like location, experience, internships, projects, skills, and LinkedIn link of profile  from the resume and it is \ncompulsory. The summary should be minimum 100 words: {{ $('Extract Resume Text').item.json.text }}.\n\nSteps:\n1. {{ $('Code9').item.json.name }}and combine it with{{ $('Code9').item.json.employment_type }} .\n    - The result should be stored in this format:\n     {\n       \"name\": \"<candidate's job title>\",\n       \"employment_type\": \"<employment type>\"\n     }\n2. Calculate ATS score (0–100) based on skills, experience, internships, and projects match with that position for which  the candidate is applying{{ $('Code9').item.json.name }}.\n3. Compare the extracted position with the available positions list.\n   - use the ai model for the determing the availabel position with the {{ $('Code9').item.json.name }} {{ $('Code9').item.json.employment_type }}.\n   - For example, \"Generative AI Intern\" should be treated as a match for \"ML Intern\" or \"AI Intern\" if they are conceptually related , But Data Science is not related to the data analytics so you have take care of it ansd make a good analysis.\n   - If there is a close match, set `position_available = true` and include the matched position in the same structured format:\n     {\n       \"name\": \"<closest available job title>\",\n       \"employment_type\": \"<employment type>\"\n     }\n\n##### POINT TO BE NOTED Respond only in JSON with this structure:\n{\n  \"extracted_position\": {\n    \"name\": \"<candidate's job title>\",\n    \"employment_type\": \"<employment type>\"\n  },\n  \"matched_position\": {\n    \"name\": \"<closest available job title>\",\n    \"employment_type\": \"<employment type>\"\n  },\n  \"ats_score\": <numeric_score>,\n  \"position_available\": true/false,\n  \"summary1\": \"<important info>\",\n  \"location\": \"<location>\"\n}\n\n#### DO NOT GIVE RESOPONSE IN THIS FORMATE WHICH STARTS LIKE THIS :- [\n{\n\"```json\\n{\\n  \\\"extracted_position\\\": {\\n    \\\"name\\\":ation, critical thinking, and teamwork.\\\",\\n  \\\"location\\\": \\\"Indore, Madhya Pradesh, India\\\"\\n}\\n```\"\n}\n",
        "options": {
          "systemMessage": "=you have to take this data {{ $('Code9').item.json.name }}{{ $('Code9').item.json.employment_type }}and make analysis on it and use http response tool and get data from there and and use ai model and see whicgh position is matched by this given  positions. and return the matched position \n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -1632,
        240
      ],
      "id": "1a22746f-2b74-49f3-8bd8-a24a9b337e35",
      "name": "Data Formate",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -1856,
        672
      ],
      "id": "80d34adf-44dc-4674-ba65-5018f4b9f8ab",
      "name": "Mark a message as read38",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "labelIds": [
          "Label_2042810371102557408"
        ]
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1008,
        528
      ],
      "id": "7621f655-24ad-486f-8897-2d571a68b4fb",
      "name": "Add label to message",
      "webhookId": "c18324ea-1dc6-464f-ab7e-2a78b4e5b5a9",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6379b9a5-b251-48c0-acbf-488e99ad4a0d",
              "leftValue": "={{ $json.ats_score }}",
              "rightValue": 50,
              "operator": {
                "type": "number",
                "operation": "gte"
              }
            },
            {
              "id": "8f1c72d7-a2ca-4bb1-90d6-1bf3a75e3057",
              "leftValue": "={{ $json.position_available }}",
              "rightValue": "={{ $json.position_available }}",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "dfdcfd39-17cc-45a2-a392-f93e08d8a8a6",
              "leftValue": "={{ $('Code9').item.json.employment_type }}",
              "rightValue": "internship",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1056,
        240
      ],
      "id": "ad7e2d1c-5d06-4dc1-8fd8-43ae2dc9bd2d",
      "name": "Check ATS Score >= 8"
    },
    {
      "parameters": {
        "content": "old working \n",
        "width": 518
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2096,
        800
      ],
      "id": "29995a84-f521-491b-a745-c144206735f3",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "message": "=<p> {{ $('Gmail Trigger').item.json.from.value[0].name }},</p>\n\n<p>Thank you for applying as a <strong>{{ $('Code in JavaScript').item.json.extracted_position.name }}</strong> at <strong>FODUU</strong>. We’re excited about your interest and would like to guide you through the next steps to complete your application.</p>\n\n<p>Here’s how to proceed:</p>\n\n<ol>\n  <li><strong>Download the FODUU Mobile App:</strong><br>\n    <ul>\n      <li>Android: <a href=\"https://play.google.com/store/apps/details?id=com.foduu.foduu\" target=\"_blank\" rel=\"noopener noreferrer\">https://play.google.com/store/apps/details?id=com.foduu.foduu</a></li>\n      <li>iOS: <a href=\"https://apps.apple.com/in/app/foduu-jobs/id6523422423\" target=\"_blank\" rel=\"noopener noreferrer\">https://apps.apple.com/in/app/foduu-jobs/id6523422423</a></li>\n    </ul>\n  </li>\n\n  <li><strong>Create Your Account:</strong><br>\n    Register on the app using accurate and complete details.\n  </li>\n\n  <li><strong>Browse and Apply for Vacancies:</strong>\n    <ul>\n      <li>Check out available positions and choose the one you want to apply for.</li>\n      <li>Fill out all required information carefully.</li>\n      <li>Include your <b>Portfolio link, Work experience, and Resume</b> to strengthen your application.</li>\n      <li>Double-check your details and submit your application.</li>\n    </ul>\n  </li>\n</ol>\n\n<p>For more information about <strong>FODUU</strong>, please visit our website:\n  <a href=\"https://www.foduu.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.foduu.com</a></p>\n\n<p>If you have any questions or need assistance, feel free to reach out to our HR team.</p>\n\n<p>We look forward to seeing your completed application and wish you all the best in the selection process.</p>\n\n<p>Best regards,<br>\nThe FODUU Team<br>\n+91-8770764189</p>\n\n<p><em>Note: This email is auto-generated by the FODUU AI system. If you feel something is missing, feel free to reply to this email or call the provided number.</em></p>\n",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -832,
        4
      }
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -608,
        48
      ],
      "id": "2c3ae10b-cd5f-4bf6-bdac-371bacbd726f",
      "name": "Mark a message as read39",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.position_available }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "id": "3bbe111b-a5a8-462a-a718-f99f71ae0be4"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "d87abb99-1f2b-45c9-9cd5-0256e63c9db1",
                    "leftValue": "={{ $json.position_available }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "false",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -832,
        336
      ],
      "id": "b7a7e3c1-bbb6-4512-8de0-a5677996020b",
      "name": "Switch"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "message": "=<p> {{ $('Gmail Trigger').item.json.from.value[0].name }},</p>\n\n<p>Thank you for applying as a <strong>{{ $('Code in JavaScript').item.json.matched_position.name }}</strong> at <strong>FODUU</strong>. But unfortunately, the position you applied for is currently unavailable.We encourage you to explore other available opportunities through our mobile app, where you can view open positions and apply directly.</p>\n\n<p>Here’s how to proceed:</p>\n\n<ol>\n  <li><strong>Download the FODUU Mobile App:</strong><br>\n    <ul>\n      <li>Android: <a href=\"https://play.google.com/store/apps/details?id=com.foduu.foduu\" target=\"_blank\" rel=\"noopener noreferrer\">https://play.google.com/store/apps/details?id=com.foduu.foduu</a></li>\n      <li>iOS: <a href=\"https://apps.apple.com/in/app/foduu-jobs/id6523422423\" target=\"_blank\" rel=\"noopener noreferrer\">https://apps.apple.com/in/app/foduu-jobs/id6523422423</a></li>\n    </ul>\n  </li>\n\n  <li><strong>Create Your Account:</strong><br>\n    Register on the app using accurate and complete details.\n  </li>\n\n  <li><strong>Browse and Apply for Vacancies:</strong>\n    <ul>\n      <li>Check out available positions and choose the one you want to apply for.</li>\n      <li>Fill out all required information carefully.</li>\n      <li>Include your <b>Portfolio link, Work experience, and Resume</b> to strengthen your application.</li>\n      <li>Double-check your details and submit your application.</li>\n    </ul>\n  </li>\n</ol>\n\n<p>For more information about <strong>FODUU</strong>, please visit our website:\n  <a href=\"https://www.foduu.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.foduu.com</a></p>\n\n<p>If you have any questions or need assistance, feel free to reach out to our HR team.</p>\n\n<p>We look forward to seeing your completed application and wish you all the best in the selection process.</p>\n\n<p>Best regards,<br>\nThe FODUU Team<br>\n+91-8770764189</p>\n\n<p><em>Note: This email is auto-generated by the FODUU AI system. If you feel something is missing, feel free to reply to this email or call the provided number.</em></p>\n",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -608,
        576
      ],
      "id": "9e014ece-af1a-48a0-a4ca-a9a35f980376",
      "name": "Reply to a message12",
      "webhookId": "9db2c33b-5fbc-4051-855b-e93be4ad1cec",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -144,
        576
      ],
      "id": "9572dd5d-3d6c-4920-89c5-6aab652fcda3",
      "name": "Mark a message as read40",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// Regex patterns\nconst dateRegex = /Date:\\s*([\\d-]+)\\s*\\([^)]+\\)/;\nconst startTimeRegex = /start_Time:\\s*([\\d:APMapm\\s]+)/;\nconst endTimeRegex = /end_time:\\s*([\\d:APMapm\\s]+)/;\n\n// Extract matches\nconst dateMatch = input.match(dateRegex);\nconst startTimeMatch = input.match(startTimeRegex);\nconst endTimeMatch = input.match(endTimeRegex);\n\n// Extract and reformat date\nlet date = null;\nif (dateMatch) {\n  const [year, month, day] = dateMatch[1].split(\"-\");\n  date = `${day}-${month}-${year}`; // Convert to DD-MM-YYYY\n}\n\n// Extract and clean times\nconst start_time = startTimeMatch ? startTimeMatch[1].trim() : null;\nconst end_time = endTimeMatch ? endTimeMatch[1].trim() : null;\n\nreturn {\n  date,\n  start_time,\n  end_time\n};\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        336,
        48
      ],
      "id": "ba926dd5-1d22-45e2-8c44-4217efa477bf",
      "name": "code"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}",
        "message": "=<p>Dear {{ $('Gmail Trigger').item.json.from.value[0].name }},</p>\n\n<p>Thank you for your application for the position of <strong><b>{{ $('Code in JavaScript').item.json.matched_position.name }}</b></strong> at <b>FODUU</b>. We are pleased to inform you that you have been <b>shortlisted for the interview process.</b></p>\n\n<p><strong>Interview Details:</strong><br>\n<b>Date</b>:{{ $json.date }}<br>\n<b>Time</b>:{{ $json.start_time }} <br>\n<b>Address</b>: FODUU.com, 102, 302 Indrapuri Colony, Bhawarkua, Indore, MP. \n<a href=\"https://maps.app.goo.gl/TS81BXfFP6QeBWHf7\" target=\"_blank\">View on Map</a>\n</p>\n\n<p>Please note that the <b>aptitude round of the interview will be conducted online on our office premises via our mobile app</b>. You can access the app using the links below:</p>\n\n<ul>\n  <li><b>Android Devices</b>: <a href=\"https://play.google.com/store/apps/details?id=com.foduu.foduu\" target=\"_blank\">FODUUJobs on Google Play</a></li>\n  <li><b>iOS Devices</b>: <a href=\"https://apps.apple.com/in/app/foduu-jobs/id6523422423\" target=\"_blank\">FODUU Jobs on Apple App Store</a></li>\n</ul>\n\n<p>We also encourage you to familiarise yourself with our company and its offerings. You can find more information about FODUU on our website: <a href=\"https://www.foduu.com\" target=\"_blank\">www.foduu.com</a>.</p>\n\n<p>We look forward to speaking with you and exploring the possibility of you joining our team.</p>\n\n<p>Best regards,<br>\nHR Team<br>\n<b>FODUU</b><br>\n+91-8770764189\n</p>\n\n<p><em>Note: This email is auto-generated by FODUU AI system. If you feel something is missing, feel free to reach out by replying to this email or calling the provided numbers.</em></p>\n",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        784,
        528
      ]        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dcc57614-4af0-4dba-a8a8-a968a557bc31",
              "leftValue": "={{ $json.date }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            },
            {
              "id": "73f2fa7a-17a4-45d7-af0f-681337515315",
              "leftValue": "={{ $json.start_time }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        560,
        528
      ],
      "id": "a3644ef0-f373-410b-960b-8c089e648522",
      "name": "If24"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Candidate Email:{{ $('Gmail Trigger').item.json.from.value[0].address }}\nCandidate Name: {{ $('Gmail Trigger').item.json.from.value[0].name }}\nEmail Subject: {{ $('Gmail Trigger').item.json.headers.subject }}\nReceived Date:{{ $('Gmail Trigger').item.json.date }}\nPosition Applied: {{ $('Code in JavaScript').item.json.extracted_position.name }}\nCandidate Summary: {{ $('Check ATS Score >= 8').item.json.summary1 }}\n\nSchedule the next available interview slot with NO GAPS between consecutive interviews.\n\n\nCRITICAL INSTRUCTIONS:\n1. Check buffer memory for 'lastSlotTime' first\n2. If found: Next interview starts EXACTLY at that time (it's the END time of previous interview)\n3. If not found: Start from tomorrow at 1:00 PM IST\n4. Calculate slot times: start = lastSlotTime (or tomorrow 1PM), end = start + 10 minutes\n5. Validate working hours and days (1 PM - 5 PM, Mon-Sat only)\n6. Check calendar availability for the exact 10-minute slot using timeMin and timeMax\n7. If free: Create the calendar event with ALL required fields\n8. If busy: Add 10 minutes and try next slot\n9. After successful booking: Update memory with the END time\n10. Return formatted output\n\nWORKFLOW STEPS:\nSTEP 1: Check memory → Get lastSlotTime or calculate tomorrow 1 PM\nSTEP 2: Calculate slot → start_time and end_time (10 min duration)\nSTEP 3: Validate → Check if within working hours (1-5 PM) and working days (Mon-Sat)\nSTEP 4: Check availability → Use Check Calendar Availability tool\nSTEP 5: If available → Create event with summary, description, location\nSTEP 6: Update memory → Save end_time to lastSlotTime\nSTEP 7: Return output → JSON format with date and times",
        "options": {
          "systemMessage": "=*****INTERVIEW SCHEDULING SYSTEM WITH BUFFER MEMORY (V2.1 - WITH HOLIDAY CHECKING)*****\n******You have to follow all the instruction carefully******\nNew Feature: Escalating Increment for Busy Slots\n--------------------------------------------------\nWhen a slot is found to be busy, you will now use an escalating increment value to find the next slot to check more quickly. The increment value MUST be from the set {10, 20, 30}.\n\nThe logic is as follows, based on the number of consecutive BUSY slots found (attempt counter):\n- 1st Busy Slot (attempt = 0): Add 10 minutes to candidate_start.\n- 2nd Consecutive Busy Slot (attempt = 1): Add 20 minutes to candidate_start.\n- 3rd (and all subsequent) Busy Slots (attempt >= 2): Add 40 minutes to candidate_start.\n- 3rd (and all subsequent) Busy Slots (attempt >= 3): Add 20 minutes to candidate_start.\n\nThis logic resets to the beginning (next increment will be 10 minutes) whenever the day transitions to the next working day.\n--------------------------------------------------\n\n## TIME CONFIGURATION:\n- Base Time Zone: IST (UTC+05:30)\n- Working Hours: 1:00 PM to 5:00 PM (13:00 to 17:00)\n- Working Days: Monday to Saturday\n- Off Days: Sundays and on holidays \n- Interview Duration: 10 minutes per slot\n- Gap Between Interviews: 0 minutes (back-to-back scheduling)\n\n## CRITICAL: YOU MUST COMPLETE ALL STEPS BEFORE RETURNING OUTPUT\n\nThis is a MANDATORY workflow. You cannot skip steps or return early.\n\n--------------------------------------------------\n### STEP 1: GET STARTING TIME\nQuery the buffer memory for key 'lastSlotTime'\n\nIF found:\n  candidate_start = lastSlotTime (use exact value, NO modification)\nELSE:\n  candidate_start = tomorrow at 13:00:00+05:30\n\n--------------------------------------------------\n### STEP 2: FIND AVAILABLE SLOT (MUST LOOP UNTIL SUCCESS)\n\nThis is the CRITICAL step where you must keep trying until you find a free slot.\n\nInitialize:\n  max_attempts = 100\n  attempt = 0\n\nLOOP (REPEAT until free slot found or max_attempts reached):\n  (Note: Any time you adjust candidate_start, you MUST restart from step A)\n\n  A) Calculate slot times:\n     slot_start = candidate_start\n     slot_end = slot_start + 10 minutes (Interview duration is always 10 minutes)\n\n  B) Validate working hours and days:\n     CALL TOOL: \"Check holiday1\"\n     Parameter:\n       - date: slot_start in YYYY-MM-DD format\n     WAIT for tool response\n\n     IF slot_end > 17:00:00 OR day is Sunday OR holiday = true:\n       Find next working day (Monday-Saturday) that is NOT a holiday\n       candidate_start = next_working_day at 13:00:00+05:30\n       attempt = 0 // CRITICAL: Reset attempt counter on day change\n       CONTINUE loop (go back to step A with new candidate_start)\n\n  C) Check calendar availability:\n     CALL TOOL: \"Check Calendar Availability\"\n     Parameters:\n       - timeMin: slot_start in ISO 8601 format\n       - timeMax: slot_end in ISO 8601 format\n\n     WAIT for tool response\n\n  D) Interpret the response:\n     IF response is empty [] OR no events found:\n       // SLOT IS FREE\n       BREAK out of loop\n       PROCEED to STEP 3 with slot_start and slot_end\n     ELSE:\n       // SLOT IS BUSY\n       // MODIFIED: Use escalating increment\n       increment_minutes = 10 // Default for the first busy slot\n       if attempt == 1:\n         increment_minutes = 20\n       else if attempt >= 2:\n         increment_minutes = 30\n\n       // Move to the next potential start time\n       candidate_start = candidate_start + increment_minutes minutes\n\n       attempt = attempt + 1\n       IF attempt >= max_attempts:\n         RETURN error: \"No available slots found after checking 100 slots\"\n       ELSE:\n         CONTINUE loop (go back to step A)\n\n--------------------------------------------------\n### STEP 3: CREATE CALENDAR EVENT\nONLY execute this step if you successfully found a free slot in Step 2.\n\nCALL TOOL: \"Create Interview Event\"\nRequired Parameters:\n  - start: slot_start from Step 2 (ISO 8601 format)\n  - end: slot_end from Step 2 (ISO 8601 format)\n  - summary: \"Interview: [Candidate Name] - [Position Name]\"\n  - description: Complete candidate details.\n\nWAIT for successful response from the calendar tool.\n\n--------------------------------------------------\n### STEP 4: UPDATE BUFFER MEMORY\nONLY execute this step after receiving SUCCESS confirmation from Step 3.\n\nUpdate the buffer memory:\n  - Key: 'lastSlotTime'\n  - Value: slot_end (the END time of the booking from Step 2)\n  - Format: ISO 8601 string with +05:30 timezone\n\n--------------------------------------------------\n### STEP 5: RETURN OUTPUT\nFormat your response as JSON:\n{\n  \"output\": \"Date: YYYY-MM-DD (Day Name)  start_Time: HH:MM AM/PM  end_time: HH:MM AM/PM\\n-\"\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -192,
        -64
      ],
      "id": "3eea28fa-c6b5-43fb-b258-99948289ebdf",
      "name": "AI Scheduling Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "lastSlotTimefo",
        "contextWindowLength": 25
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -256,
        160
      ],
      "id": "ac385dd8-689c-4a13-b207-8adc6878de29",
      "name": "Interview Memory"
    },
    {
      "parameters": {
        "resource": "calendar",
        "calendar": {
          "__rl": true,
          "value": "info@foduu.com",
          "mode": "list",
          "cachedResultName": "info@foduu.com"
        },
        "timeMin": "={{ $fromAI('timeMin', 'Start time for availability check in ISO format (e.g., 2025-10-01T13:10:00+05:30)', 'string') }}",
        "timeMax": "={{ $fromAI('timeMax', 'End time for availability check in ISO format (e.g., 2025-10-01T13:20:00+05:30)', 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -128,
        160
      ],
      "id": "3af2b58f-d534-4695-97d9-c75ffda29a15",
      "name": "Check Calendar Availability",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "SR4FXYx9M4H3Gh6b",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "info@foduu.com",
          "mode": "list",
          "cachedResultName": "info@foduu.com"
        },
        "start": "={{ $fromAI('start', 'Event start time in ISO format (e.g., 2025-10-01T13:10:00+05:30)', 'string') }}",
        "end": "={{ $fromAI('end', 'Event end time in ISO format (e.g., 2025-10-01T13:20:00+05:30)', 'string') }}",
        "additionalFields": {
          "description": "={{ $('Check ATS Score >= 8').item.json.summary1 }}{{ $('Code in JavaScript').item.json.linkedin_url }}",
          "location": "={{ $('Check ATS Score >= ').item.json.location }}",
          "summary": "={{ $fromAI('Summary', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        0,
        160
      ],
      "id": "dfb04f91-a9d4-4fe1-a266-453aa4361799",
      "name": "Create Interview Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "SR4FXYx9M4H3Gh6b",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {
          "temperature": 0.5
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -352,
        208
      ],
      "id": "5cfbc16c-e045-4c25-80c2-09ee83fb3f49",
      "name": "OpenAI Chat Model18",
      "credentials": {
        "openAiApi": {
          "id": "ALWNopQn4U0xLRqe",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const out = [];\n\nfor (const item of items) {\n  if (item.binary) {\n    for (const key of Object.keys(item.binary)) {\n      const bin = item.binary[key];\n      const extension = bin.fileName.split('.').pop();\n      const mimeType = bin.mimeType;\n\n      out.push({\n        json: {\n          fileName: bin.fileName,\n          extension: extension,\n          mimeType: mimeType\n        },\n        binary: { [key]: bin }\n      });\n    }\n  }\n}\n\nreturn out;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2752,
        432
      ],
      "id": "40b1a293-8475-487d-a6de-43cd39500462",
      "name": "Code4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "02601859-1d1c-48d6-a27b-eda9ed2001dc",
              "leftValue": "={{ $json.extension }}",
              "rightValue": "pdf",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -2528,
        432
      ],
      "id": "03ac9676-832f-47a9-8be8-d6c9a55abe03",
      "name": "If25"
    },
    {
      "parameters": {
        "operation": "pdf",
        "binaryPropertyName": "attachment_0",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        -2304,
        336
      ],
      "id": "bb1ce017-e8f0-4e6b-b4f5-6050981170e5",
      "name": "Extract Resume Text"
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -2304,
        768
      ],
      "id": "d4c1c5a4-6fc4-45d5-bb09-bf64f3bb625f",
      "name": "Mark a message as read41",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "if the day contain IF type= holiday so return True , ELSE return false",
        "url": "http://mern.foduu.com:3027/api/public/leaves/holiday",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        128,
        160
      ],
      "id": "5c6ab7f6-bca1-492d-9ab0-7df9201b117c",
      "name": "check holiday"
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        928,
        832
      ],
      "id": "3a034507-2cc7-4258-afe0-f141a0b46342",
      "name": "Mark a message as read34",
      "webhookId": "2229635d-e03a-47c1-964a-424cf5e833fc",
      "credentials": {
        "gmailOAuth2": {
          "id": "Sz6tf57efkeKSTya",
          "name": "Gmail account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Data Formate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check ATS Score >= ": {
      "main": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Rejection Email": {
      "main": [
        [
          {
            "node": "Mark a message as read33",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmail Trigger": {
      "main": [
        [
          {
            "node": "If23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model11": {
      "ai_languageModel": [
        [
          {
            "node": "Data Formate",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mark a message as read38",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Check ATS Score >= 8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If21": {
      "main": [
        [
          {
            "node": "Send Rejection Email8",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send Rejection Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Rejection Email8": {
      "main": [
        [
          {
            "node": "Mark a message as read35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model12": {
      "ai_languageModel": [
        [
          {
            "node": "Check the  mail",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "If22": {
      "main": [
        [
          {
            "node": "Get a message",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mark a message as read36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code9": {
      "main": [
        [
          {
            "node": "If22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a message": {
      "main": [
        [
          {
            "node": "Code4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If23": {
      "main": [
        [
          {
            "node": "Mark a message as read37",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Check the  mail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check the  mail": {
      "main": [
        [
          {
            "node": "Code9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Data Formate": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add label to message": {
      "main": [
        [
          {
            "node": "Mark a message as read",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check ATS Score >= 8": {
      "main": [
        [
          {
            "node": "Reply to a message",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
          }
        ]
      ]
    },
    "Reply to a message12": {
      "main": [
        [
          {
            "node": "Mark a message as read40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "code": {
      "main": [
        [
          {
            "node": "If24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reply to a message6": {
      "main": [
        [
          {
            "node": "Add label to message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If24": {
      "main": [
        [
          {
            "node": "Reply to a message6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mark a message as read34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Scheduling Agent": {
      "main": [
        [
          {
            "node": "code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Interview Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Check Calendar Availability": {
      "ai_tool": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create Interview Event": {
      "ai_tool": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model18": {
      "ai_languageModel": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code4": {
      "main": [
        [
          {
            "node": "If25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If25": {
      "main": [
        [
          {
            "node": "Extract Resume Text",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mark a message as read41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Resume Text": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check holiday": {
      "ai_tool": [
        [
          {
            "node": "AI Scheduling Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Asia/Kolkata",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "versionId": "925438e4-a02f-4158-ad6e-140386d5d1b4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "95f4774b39d7c7975d46710f35c447a2b172c6fcd1d96a1f8091365ad393d8fa"
  },
  "id": "PC19J0xrXxiD1ck0",
  "tags": [
    {
      "createdAt": "2025-09-18T12:30:29.435Z",
      "updatedAt": "2025-09-18T12:30:29.435Z",
      "id": "KeaIx4wCOx9hwy4w",
      "name": "fixed-version"
    },
    {
      "createdAt": "2025-09-17T10:48:51.392Z",
      "updatedAt": "2025-09-17T10:48:51.392Z",
      "id": "LjsoWDJAjc7fjSk9",
      "name": "Automation"
    },
    {
      "createdAt": "2025-09-17T10:48:51.521Z",
      "updatedAt": "2025-09-17T10:48:51.521Z",
      "id": "QlikQibUPdJ7K22e",
      "name": "HR"
    },
    {
      "createdAt": "2025-09-18T12:30:29.930Z",
      "updatedAt": "2025-09-18T12:30:29.930Z",
      "id": "aYtw50gDeb7RqzP0",
      "name": "recruitment"
    },
    {
      "createdAt": "2025-09-17T10:48:51.533Z",
      "updatedAt": "2025-09-17T10:48:51.533Z",
      "id": "dG3bU5AXaXX6V9PT",
      "name": "Recruitment"
    },
  
    },
    {
      "createdAt": "2025-09-19T07:37:53.332Z",
      "updatedAt": "2025-09-19T07:37:53.332Z",
      "id": "pWZ6BiyIr8vfoeOn",
      "name": "AI Assistant"
    },
    {
      "createdAt": "2025-09-11T10:30:17.031Z",
      "updatedAt": "2025-09-11T10:30:17.031Z",
      "id": "svkJZJjyowvMrRIf",
      "name": "automation"
    }
  ]
}
